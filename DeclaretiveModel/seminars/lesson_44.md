# 44. "Недекларативщина"

Декларативное программирование благодаря своему "чисто функциональному" взгляду на программирование несколько оторвано от реального мира, в котором сущности имеют память (состояние) и могут развиваться независимо и проактивно (параллельно). Чтобы связать декларативную программу с реальным миром, необходимо её дополнить некоторыми не совсем декларативными операциями.

Одни из наиболее востребованных классов таких операций -- это файловый ввод/вывод и графические интерфейсы пользователя. На самом деле такие недекларативные операции укладываются в более общие вычислительные модели, нежели декларативные -- в частности stateful- (например, императивные) и параллельные модели.

Простой способ стыковки декларативного программирования с реальным миром -- это использование файлов. В общем случае файл представляет собой последовательность значений, которые хранятся вне запущенной программы на постоянном носителе информации, например, на жёстком диске. В декларативной модели файл, открытый на чтение, может представляться, например, как список, и обрабатываться итератором. Операция, модифицирующая файл, может работать так, словно она получает на вход старый файл, и создаёт новый файл, хотя физически он на диске остаётся всё тот же.

А прямой способ взаимодействия программ с человеком через графический интерфейс пользователя (GUI) в декларативной модели продуктивно реализуется через определения GUI с помощью компактных и преимущественно декларативных спецификаций -- с помощью описательного декларативного языка.

# Проектирование программ

Мы познакомились с различными методами программирования в декларативной модели, и следующим логическим шагом будет их использование для создания реальных программ. Этот шаг называется проектированием (design) программ. Он начинается с формулировки проблемы или задачи, которую надо решить/реализовать. Как правило, эта формулировка делается словами, и часто далеко не точно и не без противоречий. Проектирование даёт нам высокоуровневую структуру программы: какие программистские техники мы будем использовать, и как они будут связаны между собой, и как в конечном итоге будет получена полная программа, которая решает исходную проблему.

При проектировании программ надо учитывать важное классическое различие между "программированием в малом" (programming in small) и "программированием в большом" (programming in large). В зависимости от подхода полученные программы можно называть "маленькие программы" и "большие программы". Однако данное различие не имеет ничего общего с размером/объёмом программы – прежде всего оно определяет, сколько людей было задействовано в её разработке.

Маленькие программы пишутся одним человеком за относительно короткий промежуток времени. Большие программы пишутся двумя и большим количеством людей или в течение длительного периода времени. Дело в том, что один и тот же человек-разработчик «сегодня» и «через год» рассматривается в программной инженерии как два разных разработчика, так как человек за год забудет много важных деталей.

Впрочем, существует и другое разделение programming in small / large: small подразумевает прежде всего кодирование, написание ясного, чистого, продуктивного кода; а large -- это прежде всего про правильное проектирование, которое действительно становится крайне актуальным, едва программа становится более-менее большой (начиная с нескольких тысяч строк кода).