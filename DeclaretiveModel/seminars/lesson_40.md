# 40. Явное ленивое оценивание

Во многих современных языках программирования применяется встроенная стратегия "вычисления" кода, называемая ленивое оценивание или ленивое исполнение, которое немного упоминалось раньше. Скрытое ленивое оценивание практически всегда связано с параллельным выполнением, а вот явное ленивое оценивание хорошо реализуется с помощью программирования высшего порядка.

Ленивое исполнение/оценивание подразумевает, что некоторая структура данных (например, список) формируется последовательно. Например, очередной элемент списка "готовится" непосредственно в тот момент, когда он реально потребовался в каких-то вычислениях. При этом вполне возможна ситуация, когда например элементы списка с миллионом объектов вообще не будут востребованы, или будут востребовано лишь малое их количество, что позволит сэкономить много ресурсов. Это так называемое вычисление/исполнение по запросу.
Классическая же реализация предполагает, что все структуры данных к моменту начала программы полностью сформированы независимо от того, будут ли они вообще востребованы.

Реализация ленивого исполнения подразумевает наличие некоторого механизма запроса нового элемента. Назовём такой механизм триггером. Есть два способа выразить триггеры в декларативной модели: переменные dataflow (используются в декларативном параллелизме, который мы немного рассматривали во вступительных статьях), и программирование высшего порядка. Во втором случае триггером выступает функция, которая возвращает пару значений: элемент списка и новую функцию. Новая функция – это новый триггер: вызов её даёт следующий элемент данных и следующую новую функцию, и так далее.

